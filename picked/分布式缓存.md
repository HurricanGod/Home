# <a name="top">分布式缓存</a>





## 缓存关键指标

+ 缓存键集合
+ 缓存空间
+ 缓存寿命







----

## <a name="cacheType">缓存类型</a>

+ 代理缓存

> 代理缓存是在应用程序—端的代理，缓存在客户端—端的，代理客户端访问互联网。它的主要作用是互联网访问代理。代理缓存是存在客户端一端的缓存，我们无法进行管理

+ 反向代理缓存

> 反向代理缓存是存在于系统数据中心里的，它是数据中心的统一入口，代理整个数据中心其他服务器的应用处理。

+ 内容分发网络 CDN 缓存

> CDN 是指在用户请求的前端为用户提供数据服务。用户进行互联网访问的时候，需要通过互联网网络服务商提供的网络链接才能够连接到数据中心，那么网络服务商就可以在自己提供的网络服务的机房里进行一次缓存操作，提供一次缓存服务。





## 各种介质数据访问的延迟



| 操作类型                               | 粗略时间           |
| :------------------------------------- | ------------------ |
| 访问本地内存                           | 100 ns             |
| SSD磁盘搜索                            | 100, 000 ns        |
| 网络数据包在同一数据中心来回一次的时间 | 500, 000 ns(0.5ms) |
| 磁盘搜索（非SSD）                      | 10, 000, 000 ns    |
| 按顺序从网络读取1MB数据                | 10, 000, 000 ns    |
| 按顺序从磁盘（非SSD）读取1MB数据       | 30, 000, 000 ns    |
| 跨大西洋网络数据包一次来回延时         | 150, 000, 000 ns   |
|                                        |                    |

`1s = 1000ms = 1000,000,000ns`





----

## 一致性哈希算法

>一致性哈希首先是构建一个一致性哈希环的结构。一致性哈希环的大小是 0～2 的 32 次方减 1，这个取值范围的 0 和最后一个值 2 的 32 次方减 1 首尾相连，就构成了一个一致性哈希环
>
>

+ 优点



+ **缺点** —— 通过哈希算法算出来的哈希值放在环上可能不均衡，这就导致有点节点负载压力过大



+ **改进方案**

  