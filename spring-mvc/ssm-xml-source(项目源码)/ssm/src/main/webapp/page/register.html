<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>注册页面</title>
    <link rel="stylesheet" type="text/css" href="http://www.jeasyui.net/Public/js/easyui/themes/default/easyui.css">
    <link rel="stylesheet" type="text/css" href="http://www.jeasyui.net/Public/js/easyui/themes/icon.css">
    <script type="text/javascript" src="../js/jquery-1.7.1.min.js"></script>
    <script type="text/javascript" src="../js/jquery.easyui.min.js"></script>
</head>
<body>

<div style="width:330px;background:#fafafa;padding:10px;" id="div">
    <div style="padding:3px 2px;border-bottom:1px solid #ccc">注册</div>
    <form id="register" action="" method="post">
        <table>
            <tr>
                <td>用户名:</td>
                <td><input id="name" name="username" type="text"></td>
            </tr>
            <tr>
                <td>密码:</td>
                <td><input id="pwd" name="password" type="password"></td>
            </tr>
            <tr>
                <td>邮箱:</td>
                <td><input id="email"  name="email" type="text"></td>
            </tr>

            <tr>
                <td id="res"></td>
                <td></td>
            </tr>

            <tr>
                <td></td>
                <td><input type="button" value="注册" id="push"></td>
            </tr>
        </table>
    </form>
</div>

<script type="text/javascript">
    $("#push").click(function(event){
        event.preventDefault();

        var username =  $("#name").val();
        var password =  $("#pwd").val();
        var email =  $("#email").val();

        $.ajax({
            type: "post",
            url: "../user/register.do",
            data:{username:username, pwd:password, email:email},
            success: function (data) {

                var obj = eval("(" + data + ")");

                if(obj.result == false){
                    $("#res").text(obj.msg)
                }else {
                    window.location.href = "login.html"
                }
            }
        })

    });
</script>

</body>
</html>