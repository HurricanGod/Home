## Java线程池

**使用线程池的好处**：

+ **降低资源消耗**（可以重复利用已经创建的线程降低频繁创建销毁线程的消耗）
+ **提高响应速度**（任务到达时不用等待线程创建的时间，任务能够立刻执行）
+ **提高线程的可管理性**（使用线程池可以统一进行分配、调优和监控）

----

**线程池工作原理** ：

+ 判断核心线程池里的线程是否都在执行任务
  + 如果不是，则启动一个创建1个`Worker`线程来执行任务
  + 如果线程池中的线程数量超过了核心线程数量则执行下一步
+ 判断线程池有没有被关闭，如果线程池未关闭则判断是否可以往工作队列提交任务
  + 如果可以往工作队列提交任务，再次检测线程池有没有被关闭
    + 如果在这次检测线程池没有被关闭则将新提交的任务放进工作队列等待执行
    + 如果在这次检测中发现线程池已经被`shurdown`了则删除刚才提交的任务
  + **工作队列满了**，则执行下一步
+ 检查线程池的线程数量是否**超过线程池规定的最大值**
  + 未超过线程池规定的线程数量，启动一个**非核心线程**执行任务
  + **已经达到线程池规定的数量**，拒绝任务



![线程池类结构](https://github.com/HurricanGod/Home/blob/master/algorithm/java/thread/img/ThreadPoolExector.jpg)

