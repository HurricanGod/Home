## Mysql存储引擎



---

### MyISAM引擎

**MyISAM**不支持**事务**和**行级锁** ，将表存储成两个文件：`数据文件` 和  `索引文件`；两个文件的扩展名为`.MYD`、`.MYI`。



---

**MyISAM特性**

+ 加锁与并发
  - **MyISAM**对整张表进行加锁，而不是行，程序读取数据时，在所有表上都可以获得**共享锁**，程序往表里写数据时需要对表加**排它锁**
  - 用户在运行**select**查询语句时可以往同一张表里插入新行（**并发插入**）
+ 自动修复
+ 手工修复
  + 可以使用`check table 表名`和`repair  table 表名`来检查表中的错误并修复错误
+ 索引特性
+ 延迟更新索引


---

### InnoDB引擎



`InnoDB` 不是简单使用**行加锁** 机制，而是选用 **多版本并发控制**（`MVVC`） 和 **行加锁机制** 关联使用以应对并发处理问题。 可以将`mvvc` 设想为**行级加锁** 的变形，避免很多情况的加锁操作，大大降低系统开销。



`MVVC` 通过及时保存在某些时刻的数据快照而得以实现。对于同一个事务的多个实例，在同时运行时，无论每个实例运行多久，它们看到的数据视图是一致的；而同一时间，对于同一张表，不同事务看到的数据却是不同的。



