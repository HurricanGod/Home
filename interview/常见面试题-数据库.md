# <a name="top">数据库</a>





----

## <a name="mysql">MySQL</a>



### InnoDB事务的实现原理

+ `redo log`是什么？有什么用途？

> redo log叫做重做日志，用于实现事务的持久性，就是事务ACID中的那个持久性。其由两部分组成：一部分叫做重做日志缓冲(redo log buffer)，另一部分叫做重做日志文件。前者是内存，后者是磁盘文件。
>
> redo log记录的是成功提交事务的修改信息，redo log会先被写入日志缓冲，再由mysql后台线程持久化到磁盘。系统宕机后会通过读取redo log 进行数据恢复，保证提交的事务持久性

**mysql宕机时如果日志缓冲刚好有数据未刷盘，存在丢失已提交的事务修改信息的可能**



+ `undo log`有什么用途？

> undo log 叫做回滚日志，记录的是事务修改之前版本的数据信息，undo log 记录的是数据的逻辑变化。
>
> 用途：如果遇到系统错误或者rollback操作，可以根据undo log 回滚到事务修改前的状态，保障未提交事务的原子性。



+ 事务四大特性的实现
  + 原子性：通过 `undo log`保障要么全部成功，要么全部失败
  + 持久性：通过 `redo log`实现故障恢复
  + 隔离性：通过 `读写锁` + `mvcc` 实现
  + 一致性：通过原子性、隔离性、持久性实现





+ MySQL常用的存储引擎有哪些？有什么区别？适用于什么场景？



+ MySQL相关的锁：行锁、表锁





---

## <a name="redis">Redis</a>



+ Redis相关的集群有哪些成熟的方案？



+ Redis分布式多节点环境下如何解决数据一致性问题？





